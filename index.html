<!DOCTYPE html>
<html lang="pt-br">
<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>expressões irregulares</title>

    <style>

        .erro
        {
           
            border-color: rgb(170, 0, 0);
            outline:rgb(247, 0, 0);
           
        }

        .certo
        {
            
            border-color: rgb(35, 151, 93);
            outline: rgb(35, 151, 93);
           
        }

    </style>

</head>

<body>
    DIGITE SEU CPF (somente numeros)
    <input maxlength="14" type="text" id="cpf"  onkeyup="verificarCPF();">


    <br> <br>

    DIGITE SEU TELEFONE:
    <input type="text" id="telefone" onfocus="verificar()" onkeyup="verificartelefone()";>
</body>

<script>

    function verificar()
    {
        texto = telefone.value
        if(texto == '')
        {
            telefone.value='('
        }
    }

    function verificartelefone()
    {

    

        texto = telefone.value;

        if(texto.length==3)
        {
            telefone.value = texto + ")"
        }

        if(texto.length==11)
        {                   //(47) 9 99999-0000
            telefone.value = texto + "-"
        }

        expressao = /\([0-9]{2}\) 9 [0-9]{4}-[0-9]{4}/g;
        resposta = expressao.test(texto);
        if(resposta==true)
        {
            telefone.classList.remove('erro')
            telefone.classList.add('certo')
        }

        if(resposta==false)
        {
            telefone.classList.remove('certo')
            telefone.classList.add('erro')
        }
    }

    function verificarCPF()
    {
        texto = cpf.value; 
        if(texto.length==3)
        {
        cpf.value = texto + "."
        }

        if(texto.length==7)
        {
        cpf.value = texto + "."
        }

        if(texto.length==11)
        {
        cpf.value = texto + "-"
        }
        texto = cpf.value;
        //vamos criar uma expressão regular
        espressao = / [0-9]{3}.[0-9]{3}.[0-9]{3}-[0-9]{2}/g;
        resposta = espressao.test(texto); //pode ser true or false

        if(resposta == true)
        {
            cpf.classList.remove('erro');
            cpf.classList.add('certo');
        }

        else
        {
            cpf.classList.remove('certo');
            cpf.classList.add('erro');
        }
    }

</script>

</html>